<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="How I fixed the plugin development process for misskey plugins"><title>Fixing the pains of Misskey plugin development</title><link rel=canonical href=https://blog.leahdevs.xyz/p/fixing-misskey-plugin-dev/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="Fixing the pains of Misskey plugin development"><meta property='og:description' content="How I fixed the plugin development process for misskey plugins"><meta property='og:url' content='https://blog.leahdevs.xyz/p/fixing-misskey-plugin-dev/'><meta property='og:site_name' content='Leahs Blog'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='AIscript'><meta property='article:published_time' content='2025-06-23T16:00:00+00:00'><meta property='article:modified_time' content='2025-06-23T20:01:55+02:00'><meta property='og:image' content='https://blog.leahdevs.xyz/p/fixing-misskey-plugin-dev/cover.png'><meta name=twitter:title content="Fixing the pains of Misskey plugin development"><meta name=twitter:description content="How I fixed the plugin development process for misskey plugins"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://blog.leahdevs.xyz/p/fixing-misskey-plugin-dev/cover.png'></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_3120c7ad77619c4c.png width=300 height=308 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üè≥Ô∏è‚Äç‚ößÔ∏è</span></figure><div class=site-meta><h1 class=site-name><a href=/>Leahs Blog</a></h1><h2 class=site-description>My personal blog :3</h2></div></header><ol class=menu-social><li><a href=https://github.com/ChaoticLeah target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#imports>Imports</a></li><li><a href=#live-reloading>Live reloading</a><ol><li><a href=#limitations>Limitations</a></li></ol></li><li><a href=#unit-testing>Unit Testing</a><ol><li><a href=#writing-a-test>Writing a test</a><ol><li><a href=#mocking-missing-globals>Mocking missing globals</a></li></ol></li></ol></li><li><a href=#setup>Setup</a><ol><li><a href=#live-reloading-setup>Live reloading setup</a></li><li><a href=#unit-testing-1>Unit Testing</a></li><li><a href=#building-your-plugin>Building your plugin</a></li><li><a href=#extra-info>Extra info</a></li></ol></li><li><a href=#future-plans-for-this>Future plans for this</a><ol><li><a href=#will-the-cli-tool-remain-compatible-with-these-projects>Will the CLI tool remain compatible with these projects</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/p/fixing-misskey-plugin-dev/><img src=/p/fixing-misskey-plugin-dev/cover_hu_82ef0eab84e3aa68.png srcset="/p/fixing-misskey-plugin-dev/cover_hu_82ef0eab84e3aa68.png 800w, /p/fixing-misskey-plugin-dev/cover_hu_767b43e06d99945e.png 1600w" width=800 height=520 loading=lazy alt="Featured image of post Fixing the pains of Misskey plugin development"></a></div><div class=article-details><header class=article-category><a href=/categories/programming/ style=background-color:#fc76cf;color:#fff>Programming
</a><a href=/categories/tutorial/>Tutorial</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/fixing-misskey-plugin-dev/>Fixing the pains of Misskey plugin development</a></h2><h3 class=article-subtitle>How I fixed the plugin development process for misskey plugins</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jun 23, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>8 minute read</time></div></footer><div class=article-time>Views:<div id=stats data-stats=https://blog.leahdevs.xyz/p/fixing-misskey-plugin-dev/>‚àû</div></div><script>function addView(e){var t=new XMLHttpRequest;t.open("POST","https://views.leahdevs.xyz/api/increment/"+encodeURIComponent(e)),t.send(),loadViews(e)}function loadViews(e){var t=new XMLHttpRequest;t.addEventListener("load",function(){document.querySelector(`[data-stats='https://blog.leahdevs.xyz/p/fixing-misskey-plugin-dev/']`).innerText=JSON.parse(this.responseText).count}),t.open("GET","https://views.leahdevs.xyz/api/"+encodeURIComponent(e)),t.send()}(function(){const t=location.pathname.includes("/p/")?location.pathname.split("/p/")[1].split("/")[0]:location.pathname,e="https://blog.leahdevs.xyz/p/fixing-misskey-plugin-dev/".split("/p/")[1].split("/")[0];t===e?addView(e):loadViews(e)})()</script></div></header><section class=article-content><p>Since the <a class=link href=https://blog.leahdevs.xyz/p/making-your-first-misskey-plugin/ target=_blank rel=noopener>last time I talked about this</a> a lot has changed. We finally have decent <a class=link href=https://aiscript-dev.github.io/en/references/syntax.html target=_blank rel=noopener>English documentation</a> and the language has received various updates. One thing that has stayed the same are the pains of Misskey plugin development. I&rsquo;m talking about the fact that when you write a plugin it has to be contained in 1 file. Also as my <a class=link href=https://github.com/ChaoticLeah/pronoun-plugin target=_blank rel=noopener>Pronoun Plugin</a> got bigger and bigger with more features I wanted to start unit testing it to avoid bugs but AIscript doesn&rsquo;t support this either. Another major issue for anyone working on any Misskey plugins is the fact that for every little change it can be a whole long process to test it which I also fixed.</p><p>So what did I do about this? I wrote a <a class=link href=https://github.com/ChaoticLeah/aiscript-tools target=_blank rel=noopener>plugin for visual studio code</a> You can get it from the <a class=link href="https://marketplace.visualstudio.com/items?itemName=Leah.aiscript-tools" target=_blank rel=noopener>marketplace</a> too but right now the market place doesn&rsquo;t have everything the GitHub has. This plugin will hopefully help those who write Misskey plugins and if enough people enjoy it I plan to eventually move it to a CLI tool so it can do more and not just be visual studio code dependent.</p><h2 id=imports>Imports</h2><p>This plugin implements imports. This lets you split up your plugin into multiple files - And you should because this will help a lot with the next feature. Splitting it up into multiple files helps a lot with organization. To do this the syntax is to just <code>#include &lt;file.is></code>. You can also do relative paths <code>#include &lt;misc/test.is></code>. What this does is close to the C Include: It just copies and pastes what&rsquo;s in that file where the include is. This does mean you need to take care to ensure you don&rsquo;t import things twice, get into circular dependency issues, or name 2 global variables or functions the same thing. To avoid this I&rsquo;ve found its best to use <a class=link href=https://aiscript-dev.github.io/en/references/syntax.html#namespace target=_blank rel=noopener>namespaces</a> to split up functionality so there are fewer global variable names to keep from conflicting.</p><h2 id=live-reloading>Live reloading</h2><p>Plugin development can be a huge pain since you need to usually copy out the plugin code, go to your instance, paste it in, accept permissions, delete the old one, and so on. It&rsquo;s a lot, and very annoying when you want to test a lot or make a small tweak to something. Live reloading watching your base directory for changes, compiling the plugin to 1 file, and also live reloading your plugin in the browser using Pupeteer. Another feature of live reloading is it will try to pipe any prints back to your console in vscode.</p><h3 id=limitations>Limitations</h3><ul><li>It only works in a chrome based browser for now</li><li>You need to manually install your plugin the first time</li><li>The plugin you are working on also has to be manually installed on the first plugin slot as it will attempt to overwrite this (If you need to test it with other plugins put other plugins after your plugin)</li><li>If you make any changes to the metadata of your plugin (adding settings or something else) you will need to also manually re-add it</li><li>Sometimes piping the console doesn&rsquo;t pipe back errors. If you are confused it&rsquo;s still worth checking the browser&rsquo;s console</li></ul><h2 id=unit-testing>Unit Testing</h2><p>When your plugin gets big chances are you want to unit test it. Remember how I said it&rsquo;s best to split up your files? You should split all the logic functions from the main file so that you can test these core functions.</p><h3 id=writing-a-test>Writing a test</h3><p>Writing a test is easy. Make an AIscript file and import your logic functions file at the top. A super basic test will look like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=nl>Test</span><span class=p>:</span><span class=nf>expect</span><span class=p>(</span><span class=s>&#34;Does 1 + 1 equal 2?&#34;</span><span class=p>,</span> <span class=mi>1</span> <span class=o>+</span> <span class=mi>1</span><span class=p>).</span><span class=nf>toEqual</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><code>Test:expect</code> takes in a string to describe the test, and then the second thing is where you would usually call the function you want to test. The <code>toEqual</code> bit tests to make sure that it&rsquo;s equal to the parameter you pass in. More realistically you might have something like this since you won&rsquo;t be testing if math is working:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=nl>Test</span><span class=p>:</span><span class=nf>expect</span><span class=p>(</span><span class=s>&#34;Check if post contains plural - MFM&#34;</span><span class=p>,</span> <span class=nl>PluralTools</span><span class=p>:</span><span class=nf>is_post_plural</span><span class=p>(</span><span class=s>&#34;Hello World Posted by $[scale.hm Leah]&#34;</span><span class=p>)).</span><span class=nf>toEqual</span><span class=p>(</span><span class=nb>true</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>Once you set up some tests and run them you will see something like this:</p><p><img src=/p/fixing-misskey-plugin-dev/unit-tests.png width=903 height=308 srcset="/p/fixing-misskey-plugin-dev/unit-tests_hu_e2514333270129fc.png 480w, /p/fixing-misskey-plugin-dev/unit-tests_hu_f87f9e52cb9c81f3.png 1024w" loading=lazy alt="A picture showing a bunch of unit tests passing and 1 failing in my pronoun plugin" class=gallery-image data-flex-grow=293 data-flex-basis=703px>
Unit tests will tell you when something has gone wrong and what it actually got and I think they are super helpful when you are writing a plugin that has gotten quite big to ensure future updates don&rsquo;t break the whole plugin in unexpected ways.</p><p>For now, there isn&rsquo;t anything more than just the toEqual function. Perhaps more will be added later for the future CLI tool.</p><h4 id=mocking-missing-globals>Mocking missing globals</h4><p>Since the unit tests are just running basic AIscript and not in a plugin environment you might need to mock some variables, functions, or APIs. For example, if your functions require some configs to be set then you will need to mock this up like so at the top of the test file:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=o>::</span> <span class=n>Plugin</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>¬† ¬† <span class=n>let</span> <span class=n>config</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† <span class=nl>pronoun_template</span><span class=p>:</span> <span class=s>&#34;%[name] (%[pronouns])&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† <span class=nl>checkFields</span><span class=p>:</span> <span class=nb>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† <span class=c1>//More stuff here
</span></span></span><span class=line><span class=cl><span class=c1></span>¬† ¬† <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//or
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=o>::</span> <span class=n>MK</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=err>@</span><span class=nf>api</span><span class=p>(</span><span class=n>endpoint</span><span class=p>,</span> <span class=n>payload</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=c1>//Fill in the mock API function here	
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>This allows you to mock these variables in the config:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=c1>/// @ 0.12.4
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=cp>### {
</span></span></span><span class=line><span class=cl><span class=cp></span>¬† <span class=nl>name</span><span class=p>:</span> <span class=s>&#34;Pronouns Plugin V4.4.9&#34;</span>
</span></span><span class=line><span class=cl>¬† <span class=nl>version</span><span class=p>:</span> <span class=s>&#34;4.4.9&#34;</span>
</span></span><span class=line><span class=cl>¬† <span class=nl>author</span><span class=p>:</span> <span class=s>&#34;@ChaosKitsune@woem.men&#34;</span>
</span></span><span class=line><span class=cl>¬† <span class=nl>description</span><span class=p>:</span> <span class=s>&#34;This will try to put the user&#39;s pronouns in their name on any given post&#34;</span>
</span></span><span class=line><span class=cl>¬† <span class=nl>permissions</span><span class=p>:</span> <span class=p>[</span><span class=s>&#34;read:account&#34;</span><span class=p>,</span> <span class=s>&#34;write:notifications&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl>¬† <span class=nl>config</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† <span class=nl>pronoun_template</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† ¬† ¬† <span class=nl>type</span><span class=p>:</span> <span class=s>&#34;string&#34;</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† ¬† ¬† <span class=nl>label</span><span class=p>:</span> <span class=s>&#34;Pronoun template&#34;</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† ¬† ¬† <span class=nl>description</span><span class=p>:</span> <span class=err>&#39;</span><span class=n>Template</span> <span class=k>for</span> <span class=n>pronoun</span> <span class=n>usernames</span><span class=p>.</span> <span class=s>&#34;%[name]&#34;</span> <span class=n>is</span> <span class=n>replaced</span> <span class=n>with</span> <span class=n>the</span> <span class=n>username</span><span class=p>.</span> ¬†<span class=s>&#34;%[pronouns]&#34;</span> <span class=n>is</span> <span class=n>replaced</span> <span class=n>with</span> <span class=n>the</span> <span class=n>pronouns</span><span class=p>.</span> <span class=err>&#39;</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† ¬† ¬† <span class=k>default</span><span class=o>:</span> <span class=s>&#34;%[name] (%[pronouns])&#34;</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† <span class=p>},</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† <span class=nl>checkFields</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† ¬† ¬† <span class=nl>type</span><span class=p>:</span> <span class=err>&#39;</span><span class=n>boolean</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† ¬† ¬† <span class=nl>label</span><span class=p>:</span> <span class=err>&#39;</span><span class=n>Check</span> <span class=n>User</span> <span class=nf>Fields</span> <span class=p>(</span><span class=n>makes</span> <span class=n>an</span> <span class=n>extra</span> <span class=n>API</span> <span class=n>call</span><span class=p>)</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† ¬† ¬† <span class=nl>description</span><span class=p>:</span> <span class=err>&#39;</span><span class=n>If</span> <span class=n>its</span> <span class=n>crashing</span> <span class=n>try</span> <span class=n>disabling</span> <span class=n>this</span><span class=err>&#39;</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† ¬† ¬† <span class=k>default</span><span class=o>:</span> <span class=nb>true</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† <span class=p>},</span>
</span></span><span class=line><span class=cl>¬† ¬† ¬† ¬† <span class=c1>//More stuff here
</span></span></span></code></pre></td></tr></table></div></div><p>You will also need to make mock functions if you interact with the API in any way such as <code>Mk:api</code>.</p><h2 id=setup>Setup</h2><style>.bg{background-color:#005b972f;color:#fff;padding:20px;padding-left:25px;padding-right:25px;border-radius:8px}.title{font-size:20px;margin-top:0;margin-bottom:10px;color:#00c2ff;font-weight:700}.title::before{content:"‚ÑπÔ∏è "}[data-scheme=light] .bg{color:#000}[data-scheme=light] .title{color:#004471}.bg.alert{background-color:#ff00002f;color:#fff4f4;.title { color: #ff0000; } .title::before { content: "üö® "; }}[data-scheme=light] .bg.alert{background-color:#ffc7c7;color:#420000;.title { color: #c30000; }}.bg.warning{background-color:#ffcc002f;color:#fffbeb;.title { color: #ffcc00; } .title::before { content: "‚ö†Ô∏è "; }}[data-scheme=light] .bg.warning{background-color:#f8ebb2;color:#312700;.title { color: #a88600; }}</style><div class=bg><p class=title>Note</p><p>As of writing this the plugin isn&rsquo;t super polished since I plan to move away from the plugin soon anyway but it should still work quite well it just may have some weird quirks here or there that will be fixed in the CLI tool.</p></div><ul><li>Install the plugin</li><li>Press F1 and select <code>Generate AIscript Configuration</code>. This will put a <code>aiscript.json</code> in the root directory of the open project which will configure some things about how the plugin works.</li><li>Configure the <code>aiscript.json</code>. Mine looks like <a class=link href=https://github.com/ChaoticLeah/pronoun-plugin/blob/main/aiscript.json target=_blank rel=noopener>this.</a><ul><li><code>baseUrl</code> is the URL of the instance you are testing on (This is relevant if you want live plugin reloading)</li><li><code>endUrl</code> is for if you want it to end on <code>/notes/abcd</code> then put that. If it needs to go to <code>/explore</code> it will open up there</li><li><code>pipeConsole</code> will pipe plugin relevant console things to your ide&rsquo;s console</li><li><code>entry</code> is the entry point for the plugin. It&rsquo;s the main file.</li><li><code>export</code> is where it will put the all-put-together plugin on live reload</li></ul></li></ul><h3 id=live-reloading-setup>Live reloading setup</h3><ul><li>Install a chrome or chrome-based browser</li><li>From the command line run <code>chrome --remote-debugging-port=9222 --no-sandbox --remote-allow-origins=*</code></li><li>Make sure you are logged into the instance and have manually installed your plugin on the first slot</li><li>After that go back to Visual Studio Code, press F1, and run <code>Run AIScript plugin watcher</code></li><li>If everything worked it should open up on a new tab ready to live reload</li></ul><h3 id=unit-testing-1>Unit Testing</h3><ul><li>Make a test file</li><li>Import the functions you will be testing (note to do so use relative paths like <code>#include &lt;../src/tools.is></code> if you are in <code>/tests/test.is</code>) Note: You can also import other tests if you want to split up your testing</li><li>Mock any functions or variables you might need</li><li>Write your tests</li><li>Run them with <code>Unit test current AIscript file</code></li></ul><h3 id=building-your-plugin>Building your plugin</h3><p>To build your plugin please follow the live reloading section as it will build the plugin. There is no separate process for this as of now.</p><h3 id=extra-info>Extra info</h3><p>Feel free to refer to the <a class=link href=https://github.com/ChaoticLeah/pronoun-plugin target=_blank rel=noopener>pronoun plugins repo</a> to see how it&rsquo;s set up. Also, feel free to suggest things for this tool as there are some issues with it I&rsquo;m trying to figure out like the fact that the testing domain is in the config file (This is fine if everyone works on the same instance, but when someone is working on another instance and you are working together it can be a pain)</p><h2 id=future-plans-for-this>Future plans for this</h2><p>I plan to possibly move away from a Visual Studio plugin. I want to make a command line tool that will work between all IDEs. When I do this I&rsquo;ll likely write about it again. I want to make a package manager too, and eventually, I&rsquo;d like to make a better system for imports. Right now it&rsquo;s basically just copy/pasting the code into 1 file where the includes are but this causes problems when variables have the same name or if you want to import something into 2 files.</p><h3 id=will-the-cli-tool-remain-compatible-with-these-projects>Will the CLI tool remain compatible with these projects</h3><p>Yes, I plan to keep everything working as specified here. It&rsquo;s quite likely that the config JSON will move around quite a bit but if anything changes it shouldn&rsquo;t take super long to figure it out and get it all working again.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/aiscript/>AIscript</a></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Jun 23, 2025 20:01 +0200</span></section></footer></article><div class="article-list--compact links"><article><a href="https://marketplace.visualstudio.com/items?itemName=Leah.aiscript-tools" target=_blank rel=noopener><div class=article-details><h2 class=article-title>The plugin</h2><footer class=article-time>The plugin on the visual studio marketplace</footer></div></a></article><article><a href=https://github.com/ChaoticLeah/aiscript-tools target=_blank rel=noopener><div class=article-details><h2 class=article-title>The plugin (GitHub)</h2><footer class=article-time>The plugin on GitHub</footer></div></a></article><article><a href=https://aiscript-dev.github.io/en/references/syntax.html target=_blank rel=noopener><div class=article-details><h2 class=article-title>New AIscript english reference</h2><footer class=article-time>The updated english AIscript docs</footer></div></a></article></div><a href=https://notbyai.fyi target=_blank><img src=/Written-By-a-Human-Not-By-AI-Badge-black.svg style=height:42px alt="Written by Human, Not by AI"></a><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/making-your-first-misskey-plugin/><div class=article-details><h2 class=article-title>Making your first misskey plugin</h2></div></a></article><article class=has-image><a href=/p/rewriting-the-cookcli-frontend/><div class=article-image><img src=/p/rewriting-the-cookcli-frontend/cover.ef23aae6be00e8e8f8f1c21b2035921e_hu_1cdc1a35dfd386f8.webp width=250 height=150 loading=lazy alt="Featured image of post Rewriting the CookCLI frontend" data-key=rewriting-the-cookcli-frontend data-hash="md5-7yOq5r4A6Oj48cIbIDWSHg=="></div><div class=article-details><h2 class=article-title>Rewriting the CookCLI frontend</h2></div></a></article><article class=has-image><a href=/p/simple-view-counter/><div class=article-image><img src=/p/simple-view-counter/image.0a78e6aef9be4f12fe9015518323e791_hu_c33d84f0ee0d1b82.png width=250 height=150 loading=lazy alt="Featured image of post Releasing a KISS view counter" data-key=simple-view-counter data-hash="md5-Cnjmrvm+TxL+kBVRgyPnkQ=="></div><div class=article-details><h2 class=article-title>Releasing a KISS view counter</h2></div></a></article><article class=has-image><a href=/p/world-procgen-in-roblox/><div class=article-image><img src=/p/world-procgen-in-roblox/DDNight.875f3e82b76452c8431970277824f127_hu_1181ee6260f51cda.png width=250 height=150 loading=lazy alt="Featured image of post Procedural world generation in roblox" data-key=world-procgen-in-roblox data-hash="md5-h18+grdkUshDGXAneCTxJw=="></div><div class=article-details><h2 class=article-title>Procedural world generation in roblox</h2></div></a></article><article class=has-image><a href=/p/learning-docker-to-make-leahsafe/><div class=article-image><img src=/p/learning-docker-to-make-leahsafe/cover.daaf91e77ac447e1a64d045a54afadd9_hu_f1a74048285c4554.png width=250 height=150 loading=lazy alt="Featured image of post Learning docker to make Leahsafe (A personal drive)" data-key=learning-docker-to-make-leahsafe data-hash="md5-2q+R53rER+GmTQRaVK+t2Q=="></div><div class=article-details><h2 class=article-title>Learning docker to make Leahsafe (A personal drive)</h2></div></a></article></div></div></aside><script src=https://latest.cactus.chat/cactus.js crossorigin=anonymous></script><link rel=stylesheet href=https://latest.cactus.chat/style.css crossorigin=anonymous><style>.cactus-editor-textarea{color:var(--body-text-color)}.cactus-comment-header{color:var(--card-text-color-main)}.cactus-message-text>p{color:var(--body-text-color)}</style><div id=comment-section></div><script>initComments({node:document.getElementById("comment-section"),defaultHomeserverUrl:"https://matrix.cactus.chat:8448",serverName:"cactus.chat",siteName:"leahs-blog",commentSectionId:"728d137f144cbc91e6389bbc513657f9"})</script><footer class=site-footer><section class=copyright>&copy;
2024 -
2025 Leahs Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>