<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="All the stuff you need to get started with plugin and widget development with misskeys AIscript"><title>Making your first misskey plugin</title><link rel=canonical href=https://blog.leahdevs.xyz/p/making-your-first-misskey-plugin/><link rel=stylesheet href=/scss/style.min.946cca6c6259ef94ac55abfae7c7bf3291ea3ed5eea17ef77500b257217c6710.css><meta property='og:title' content="Making your first misskey plugin"><meta property='og:description' content="All the stuff you need to get started with plugin and widget development with misskeys AIscript"><meta property='og:url' content='https://blog.leahdevs.xyz/p/making-your-first-misskey-plugin/'><meta property='og:site_name' content='Leahs Blog'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='AIscript'><meta property='article:published_time' content='2024-04-01T00:00:00+00:00'><meta property='article:modified_time' content='2025-06-23T18:45:11+02:00'><meta name=twitter:title content="Making your first misskey plugin"><meta name=twitter:description content="All the stuff you need to get started with plugin and widget development with misskeys AIscript"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_3120c7ad77619c4c.png width=300 height=308 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üè≥Ô∏è‚Äç‚ößÔ∏è</span></figure><div class=site-meta><h1 class=site-name><a href=/>Leahs Blog</a></h1><h2 class=site-description>My personal blog :3</h2></div></header><ol class=menu-social><li><a href=https://github.com/ChaoticLeah target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#the-basics-of-aiscript>The basics of AIscript</a><ol><li><a href=#variables>Variables</a></li></ol></li><li><a href=#making-a-plugin>Making a plugin</a><ol><li><a href=#the-actual-plugin>The actual plugin</a></li><li><a href=#api-endpoints>API Endpoints</a></li></ol></li><li><a href=#installing-and-distributing-the-plugin>Installing and distributing the plugin</a></li><li><a href=#extra-tools-and-resources-to-help>Extra tools and resources to help</a></li><li><a href=#some-last-notes>Some last notes</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/programming/ style=background-color:#fc76cf;color:#fff>Programming
</a><a href=/categories/tutorial/>Tutorial</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/making-your-first-misskey-plugin/>Making your first misskey plugin</a></h2><h3 class=article-subtitle>All the stuff you need to get started with plugin and widget development with misskeys AIscript</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Apr 01, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>9 minute read</time></div></footer><div class=article-time>Views:<div id=stats data-stats=https://blog.leahdevs.xyz/p/making-your-first-misskey-plugin/>‚àû</div></div><script>function addView(e){var t=new XMLHttpRequest;t.open("POST","https://views.leahdevs.xyz/api/increment/"+encodeURIComponent(e)),t.send(),loadViews(e)}function loadViews(e){var t=new XMLHttpRequest;t.addEventListener("load",function(){document.querySelector(`[data-stats='https://blog.leahdevs.xyz/p/making-your-first-misskey-plugin/']`).innerText=JSON.parse(this.responseText).count}),t.open("GET","https://views.leahdevs.xyz/api/"+encodeURIComponent(e)),t.send()}(function(){const t=location.pathname.includes("/p/")?location.pathname.split("/p/")[1].split("/")[0]:location.pathname,e="https://blog.leahdevs.xyz/p/making-your-first-misskey-plugin/".split("/p/")[1].split("/")[0];t===e?addView(e):loadViews(e)})()</script></div></header><section class=article-content><p>This is a mirror of my blogpost <a class=link href=https://blog.winter-software.com/2024/04/01/Making_Your_First_Misskey_Plugin target=_blank rel=noopener>here</a>.</p><p>Do you want to make a plugin for all the various key software that exist out there? Well in this blog I will be writing about making a basic plugin and explaining the basics of AIscript. Later I may make a follow-up post on more advanced stuff related to misskey plugins, widgets, and plays development.</p><h2 id=the-basics-of-aiscript>The basics of AIscript</h2><p>AIscript is a weird very specific language that won&rsquo;t compile if a space is missing or something like that. Usually in other languages, this is not an issue, but here you better keep all your code clean and organized because otherwise it won&rsquo;t compile. This has stumped me many times before so make sure you pay attention to this.
I&rsquo;m not going to teach the very basic syntax since that can be viewed <a class=link href=https://github.com/aiscript-dev/aiscript/blob/master/translations/en/docs/get-started.md target=_blank rel=noopener>here on github</a> in English. Instead, I&rsquo;ll talk about the things it doesn&rsquo;t go over.</p><p>This basic program below won&rsquo;t run:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>a</span><span class=o>=</span><span class=mi>10</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=nx>a</span><span class=o>==</span><span class=mi>10</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>print</span><span class=p>(</span><span class=nx>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>The reason for this is that there is not a space between the 10 and the opening squiggly bracket. Keep in mind it doesn&rsquo;t care if there is no spacing around your variable declarations. In various examples, you may find you might see different ways to do things. I prefer to use <code>print("Hi")</code> but <code>&lt;: "Hi"</code> works too. Also, you may notice that using the keyword <code>return</code> is optional for example both</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=err>@</span><span class=nx>multipleByTwo</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=p>(</span><span class=nx>x</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>or</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=err>@</span><span class=nx>multipleByTwo</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=p>(</span><span class=nx>x</span> <span class=o>*</span> <span class=mi>2</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>are valid and work. Also, keep in mind that if statements can return things too.</p><h3 id=variables>Variables</h3><p>There are 2 ways to make a new variable in AIscript.
<code>let a = 10</code> or <code>var a = 10</code></p><p>So what&rsquo;s the difference? if you go with <code>let</code> it won&rsquo;t let you reassign it. It&rsquo;s a constant now. <code>var</code> on the other hand lets you reassign it to a new value.</p><p>Also, keep in mind when making a plugin or anything in AIscript that it is a bit of a pain to test in misskey. The process for testing and debugging is to add it like a normal plugin and if it fails remove it, change the code, and add it again. This can be slow but for now, it&rsquo;s the only way to test it. Eventually, you get pretty good at not making silly mistakes and you can use some of the tools below to speed stuff up so you don&rsquo;t have to go through all this.</p><h2 id=making-a-plugin>Making a plugin</h2><p>For a plugin to be accepted by any key software it needs to include some metadata at the top of the file. Let&rsquo;s take a look at the metadata for my pronoun plugin.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>/// @ 0.12.4
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>###</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Pronouns in name&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>version</span><span class=o>:</span> <span class=s2>&#34;2.1.3&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>author</span><span class=o>:</span> <span class=s2>&#34;@ChaosKitsune@woem.men&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>description</span><span class=o>:</span> <span class=s2>&#34;This will try to put the user&#39;s pronouns in their name on any given post&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>permissions</span><span class=o>:</span> <span class=kc>null</span>
</span></span><span class=line><span class=cl>  <span class=nx>config</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>		<span class=nx>experimentalDescMethod</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;boolean&#39;</span>
</span></span><span class=line><span class=cl>			<span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;Use experimental algorithm&#39;</span>
</span></span><span class=line><span class=cl>			<span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;This could put some random stuff in their name, but also will allow for more accurate pronouns&#39;</span>
</span></span><span class=line><span class=cl>			<span class=k>default</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>		<span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>debugExperimentalDescMethod</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;boolean&#39;</span>
</span></span><span class=line><span class=cl>			<span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;Debug experimental algorithm&#39;</span>
</span></span><span class=line><span class=cl>			<span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;Prints the data related to the setting above&#39;</span>
</span></span><span class=line><span class=cl>			<span class=k>default</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>		<span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>checkFields</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;boolean&#39;</span>
</span></span><span class=line><span class=cl>			<span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;Check Fields&#39;</span>
</span></span><span class=line><span class=cl>			<span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;If its crashing try disabling this&#39;</span>
</span></span><span class=line><span class=cl>			<span class=k>default</span><span class=o>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>		<span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=nx>debug</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>			<span class=nx>type</span><span class=o>:</span> <span class=s1>&#39;boolean&#39;</span>
</span></span><span class=line><span class=cl>			<span class=nx>label</span><span class=o>:</span> <span class=s1>&#39;Debug&#39;</span>
</span></span><span class=line><span class=cl>			<span class=nx>description</span><span class=o>:</span> <span class=s1>&#39;If it fails to find pronouns it will put (unknown) at the end of the name&#39;</span>
</span></span><span class=line><span class=cl>			<span class=k>default</span><span class=o>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>		<span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>In the first line, we are saying what version of the language we want to use. It won&rsquo;t run without it. I suggest just using the version I have here. Inside here you will see the name of the plugin, the version of the plugin (This can be anything, note that a v is appended before this when it&rsquo;s shown to the user so I suggest not putting a v), and the author for credit. You can also see the permissions here which is either null or an array of strings stating all the permissions your plugin needs based on what API endpoints your plugin may use. You can find all that <a class=link href=https://misskey.io/api-doc target=_blank rel=noopener>here on misskey.io</a> if you plan on doing that. Under that, you will see the config. This is shown in the UI and allows users to intuitively enable and disable features or whatever you want for your plugin. In this example, it only shows booleans being used but it supports things like strings if you input <code>string</code> instead. If I wanted to get the value of the debug variable I just needed to do <code>Plugin:config.debug</code> Keep in mind that when you update the plugin all the variables will be reset to their defaults.</p><h3 id=the-actual-plugin>The actual plugin</h3><p>Once you have all that set up there are a lot of different ways you can go. Depending on what you want to do with the plugin this bit will look very different but most of the time you will register an action or interrupter. You can check all those out <a class=link href=https://misskey-hub.net/en/docs/for-developers/plugin/plugin-api-reference/ target=_blank rel=noopener>here</a>.</p><p>For this example, I will be writing a quick plugin that replaces meows in any post with woems.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=c1>/// @ 0.12.4
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>###</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;Woemer&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>version</span><span class=o>:</span> <span class=s2>&#34;1.0.0-aiscript0.12.4&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>author</span><span class=o>:</span> <span class=s2>&#34;@ChaosKitsune@woem.men&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>description</span><span class=o>:</span> <span class=s2>&#34;Converts meows to woems&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nx>permissions</span><span class=o>:</span> <span class=kc>null</span>
</span></span><span class=line><span class=cl>  <span class=nx>config</span><span class=o>:</span> <span class=kc>null</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Plugin</span><span class=o>:</span><span class=nx>register_note_view_interruptor</span><span class=p>(</span><span class=err>@</span><span class=p>(</span><span class=nx>note</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>note</span><span class=p>.</span><span class=nx>text</span> <span class=o>=</span> <span class=nx>Str</span><span class=o>:</span><span class=nx>replace</span><span class=p>(</span><span class=nx>note</span><span class=p>.</span><span class=nx>text</span><span class=p>,</span> <span class=s2>&#34;meow&#34;</span><span class=p>,</span> <span class=s1>&#39;woem&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>note</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>As you can see we registered a note view interruptor. What this does is before the post is shown to the viewer (you or whoever may install your plugin) it changes its contents. This doesn&rsquo;t actually change the post, it&rsquo;s almost the same as if you were to manually go into inspect element and edit it. It&rsquo;s a change only you will see. Anyways it takes the text of the note and replaces all instances of <code>meow</code> with <code>woem</code>. There are many other things here you can edit such as the name of the user who posted it. This is exactly what I do with my pronoun plugin to display pronouns in the username.</p><p>Again keep in mind that there are many different types of actions and interrupters, some change stuff only for you, and some like the <code>register_note_post_interruptor</code> edit the post right before it is posted so everyone can see these changes.</p><h3 id=api-endpoints>API Endpoints</h3><p>But what if we wanted to do some fancy stuff with the misskey API? As mentioned before you can look <a class=link href=https://misskey.io/api-doc target=_blank rel=noopener>here</a> for all the endpoints but for this demo we will just be making it send a notification when the plugin is installed correctly.</p><p>First off we are going to need to specify we want to use notifications in the header bit like so <code>permissions: ["write:notifications"]</code>. In the docs, we can see it takes a body, a header, and a URL to an image. Only the body is required.</p><p>I wrote this nice function that allows you to easily use notifications in your plugin. I also included but commented out the header and icon. If you want to use them feel free to add them back</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=err>@</span><span class=nx>send_notification</span><span class=p>(</span><span class=nx>message</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=nx>Mk</span><span class=o>:</span><span class=nx>api</span><span class=p>(</span><span class=s2>&#34;notifications/create&#34;</span><span class=p>,</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>body</span><span class=o>:</span> <span class=nx>message</span><span class=p>,</span> 
</span></span><span class=line><span class=cl>        <span class=c1>//header: &#34;Header Text&#34;,
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>//icon: &#34;url here&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>})</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Now we could just call that and it would work however it would send a notification each time the tab reloaded, or a new tab was opened. That would be super annoying! If we just want to send a notification on installation we can save some data. Saved data is isolated and no other plugin can access your plugin&rsquo;s saved data though keep in mind your plugin loses all its saved data on update since you have to delete and re-add the plugin to update it.</p><p>Here is how you could use that to make it only send the notification once.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=k>if</span> <span class=nx>Mk</span><span class=o>:</span><span class=nx>load</span><span class=p>(</span><span class=s2>&#34;notFirstTime&#34;</span><span class=p>)</span> <span class=o>!=</span> <span class=kc>true</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>send_notification</span><span class=p>(</span><span class=s2>&#34;Plugin installed!&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>Mk</span><span class=o>:</span><span class=nx>save</span><span class=p>(</span><span class=s2>&#34;notFirstTime&#34;</span><span class=p>,</span> <span class=kc>true</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>Saving stuff is super useful.</p><h2 id=installing-and-distributing-the-plugin>Installing and distributing the plugin</h2><p>Right now there is no place to put your plugin for others to find so you have to get it around by word of mouth on fedi. I hope to sometime fix this and make some sort of site where people can put their plugins that they made if this becomes more popular.</p><p>The way to install it is to put the code somewhere people can just copy and paste it into their settings under plugins. Yes, its a bit of a pain for the user but it&rsquo;s the only way for now.</p><h2 id=extra-tools-and-resources-to-help>Extra tools and resources to help</h2><p>Want to test or get a better error message as to why your program isn&rsquo;t compiling?
Go to <a class=link href=https://aiscript-dev.github.io/aiscript/ target=_blank rel=noopener>aiscript github page</a></p><p>Need the English docs to the language?
Go to <a class=link href=https://github.com/aiscript-dev/aiscript/tree/master/translations/en/docs target=_blank rel=noopener>aiscript english docs</a></p><p>Looking for how to use the API?
Go to <a class=link href=https://misskey-hub.net/en/docs/for-developers/plugin/plugin-api-reference/ target=_blank rel=noopener>misskey-hub plugin api docs</a></p><p>Need more docs on the plugin header?
Go <a class=link href=https://misskey-hub.net/en/docs/for-developers/plugin/create-plugin/ target=_blank rel=noopener>Here</a></p><p>Looking for all the API endpoints?
Go to <a class=link href=https://misskey.io/api-doc target=_blank rel=noopener>misskey api docs</a></p><p>If you want to edit your AIscript in vscode here is a useful plugin I use for syntax highlighting: <a class=link href="https://marketplace.visualstudio.com/items?itemName=ThatOneCalculator.aiscript" target=_blank rel=noopener>visual studio marketplace</a>.</p><h2 id=some-last-notes>Some last notes</h2><p>Keep in mind AIscript is kinda weird, and I have run into bugs. For example, the <code>register_note_post_interruptor</code> is somewhat broken and won&rsquo;t work right away even with the examples. Long story short it converted some API undefineds to nulls and this became an issue. Here is the fix if you need it:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>Plugin</span><span class=o>:</span><span class=nx>register_note_post_interruptor</span><span class=p>(</span><span class=err>@</span><span class=p>(</span><span class=nx>note</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>//My fix for misskeys broken AIscript
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>var</span> <span class=nx>newPost</span> <span class=o>=</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=kd>let</span> <span class=nx>keys</span> <span class=o>=</span> <span class=nx>Obj</span><span class=o>:</span><span class=nx>keys</span><span class=p>(</span><span class=nx>note</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=kd>let</span> <span class=nx>i</span><span class=p>,</span> <span class=nx>keys</span><span class=p>.</span><span class=nx>len</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kd>let</span> <span class=nx>key</span> <span class=o>=</span> <span class=nx>keys</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=nx>note</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>!=</span> <span class=kc>null</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>newPost</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> <span class=o>=</span> <span class=nx>note</span><span class=p>[</span><span class=nx>key</span><span class=p>]</span> 
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>   <span class=c1>//Do the stuff you normally would here like editing the text
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=nx>newPost</span>
</span></span><span class=line><span class=cl><span class=p>})</span>
</span></span></code></pre></td></tr></table></div></div><p>I also recommend looking over plugins other people made and learning from them. Here are some of my plugins if you want to look at the code:
<a class=link href=https://github.com/ChaoticLeah/pronoun-plugin target=_blank rel=noopener>My pronoun plugin</a></p><p><a class=link href=https://woem.men/@ChaosKitsune/pages/1704460749056 target=_blank rel=noopener>https://woem.men/@ChaosKitsune/pages/1704460749056</a>
<a class=link href=https://woem.men/@ChaosKitsune/pages/1711151651951 target=_blank rel=noopener>https://woem.men/@ChaosKitsune/pages/1711151651951</a></p></section><footer class=article-footer><section class=article-tags><a href=/tags/aiscript/>AIscript</a></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Jun 23, 2025 18:45 +0200</span></section></footer></article><div class="article-list--compact links"><article><a href=https://blog.winter-software.com/2024/04/01/Making_Your_First_Misskey_Plugin target=_blank rel=noopener><div class=article-details><h2 class=article-title>Original blog post</h2><footer class=article-time>Mirror of this blog post on my blog</footer></div></a></article><article><a href=https://github.com/aiscript-dev/aiscript/blob/master/translations/en/docs/get-started.md target=_blank rel=noopener><div class=article-details><h2 class=article-title>AIscript Get Started</h2><footer class=article-time>GitHub page with basics of AIscript syntax in English</footer></div></a></article><article><a href=https://misskey.io/api-doc target=_blank rel=noopener><div class=article-details><h2 class=article-title>Misskey API documentation</h2><footer class=article-time>API documentation for Misskey</footer></div></a></article><article><a href=https://aiscript-dev.github.io/aiscript/ target=_blank rel=noopener><div class=article-details><h2 class=article-title>AIscript online testing tool</h2><footer class=article-time>Tool for testing AIscript code with better error feedback</footer></div></a></article><article><a href=https://github.com/aiscript-dev/aiscript/tree/master/translations/en/docs target=_blank rel=noopener><div class=article-details><h2 class=article-title>AIscript English docs</h2><footer class=article-time>English documentation for AIscript language</footer></div></a></article><article><a href=https://misskey-hub.net/en/docs/for-developers/plugin/plugin-api-reference/ target=_blank rel=noopener><div class=article-details><h2 class=article-title>Misskey Hub Plugin API reference</h2><footer class=article-time>Plugin API reference for Misskey</footer></div></a></article><article><a href=https://misskey-hub.net/en/docs/for-developers/plugin/create-plugin/ target=_blank rel=noopener><div class=article-details><h2 class=article-title>Plugin header docs</h2><footer class=article-time>Documentation for creating a plugin header for Misskey</footer></div></a></article><article><a href="https://marketplace.visualstudio.com/items?itemName=ThatOneCalculator.aiscript" target=_blank rel=noopener><div class=article-details><h2 class=article-title>Visual Studio Marketplace AIscript plugin</h2><footer class=article-time>VS Code plugin for AIscript syntax highlighting</footer></div></a></article><article><a href=https://github.com/ChaoticLeah/pronoun-plugin target=_blank rel=noopener><div class=article-details><h2 class=article-title>Pronoun Plugin by ChaosKitsune</h2><footer class=article-time>GitHub page for the Pronoun Plugin</footer></div></a></article><article><a href=https://woem.men/@ChaosKitsune/pages/1704460749056 target=_blank rel=noopener><div class=article-details><h2 class=article-title>Plugin page</h2><footer class=article-time>Example plugins I made. Contains an older pronoun plugin, and a smaller plugin I wrote.</footer></div></a></article><article><a href=https://woem.men/@ChaosKitsune/pages/1711151651951 target=_blank rel=noopener><div class=article-details><h2 class=article-title>Plural Plugin</h2><footer class=article-time>The plural plugin code and instructions</footer></div></a></article></div><a href=https://notbyai.fyi target=_blank><img src=/Written-By-a-Human-Not-By-AI-Badge-black.svg style=height:42px alt="Written by Human, Not by AI"></a><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article class=has-image><a href=/p/fixing-misskey-plugin-dev/><div class=article-image><img src=/p/fixing-misskey-plugin-dev/cover.c1580a0dce3143fdaa6ee54a5ac3fe12_hu_745bd91052ef33b6.png width=250 height=150 loading=lazy alt="Featured image of post Fixing the pains of Misskey plugin development" data-key=fixing-misskey-plugin-dev data-hash="md5-wVgKDc4xQ/2qbuVKWsP+Eg=="></div><div class=article-details><h2 class=article-title>Fixing the pains of Misskey plugin development</h2></div></a></article><article class=has-image><a href=/p/rewriting-the-cookcli-frontend/><div class=article-image><img src=/p/rewriting-the-cookcli-frontend/cover.ef23aae6be00e8e8f8f1c21b2035921e_hu_1cdc1a35dfd386f8.webp width=250 height=150 loading=lazy alt="Featured image of post Rewriting the CookCLI frontend" data-key=rewriting-the-cookcli-frontend data-hash="md5-7yOq5r4A6Oj48cIbIDWSHg=="></div><div class=article-details><h2 class=article-title>Rewriting the CookCLI frontend</h2></div></a></article><article class=has-image><a href=/p/simple-view-counter/><div class=article-image><img src=/p/simple-view-counter/image.0a78e6aef9be4f12fe9015518323e791_hu_c33d84f0ee0d1b82.png width=250 height=150 loading=lazy alt="Featured image of post Releasing a KISS view counter" data-key=simple-view-counter data-hash="md5-Cnjmrvm+TxL+kBVRgyPnkQ=="></div><div class=article-details><h2 class=article-title>Releasing a KISS view counter</h2></div></a></article><article class=has-image><a href=/p/world-procgen-in-roblox/><div class=article-image><img src=/p/world-procgen-in-roblox/DDNight.875f3e82b76452c8431970277824f127_hu_1181ee6260f51cda.png width=250 height=150 loading=lazy alt="Featured image of post Procedural world generation in roblox" data-key=world-procgen-in-roblox data-hash="md5-h18+grdkUshDGXAneCTxJw=="></div><div class=article-details><h2 class=article-title>Procedural world generation in roblox</h2></div></a></article><article class=has-image><a href=/p/learning-docker-to-make-leahsafe/><div class=article-image><img src=/p/learning-docker-to-make-leahsafe/cover.daaf91e77ac447e1a64d045a54afadd9_hu_f1a74048285c4554.png width=250 height=150 loading=lazy alt="Featured image of post Learning docker to make Leahsafe (A personal drive)" data-key=learning-docker-to-make-leahsafe data-hash="md5-2q+R53rER+GmTQRaVK+t2Q=="></div><div class=article-details><h2 class=article-title>Learning docker to make Leahsafe (A personal drive)</h2></div></a></article></div></div></aside><script src=https://latest.cactus.chat/cactus.js crossorigin=anonymous></script><link rel=stylesheet href=https://latest.cactus.chat/style.css crossorigin=anonymous><style>.cactus-editor-textarea{color:var(--body-text-color)}.cactus-comment-header{color:var(--card-text-color-main)}.cactus-message-text>p{color:var(--body-text-color)}</style><div id=comment-section></div><script>initComments({node:document.getElementById("comment-section"),defaultHomeserverUrl:"https://matrix.cactus.chat:8448",serverName:"cactus.chat",siteName:"leahs-blog",commentSectionId:"ede76ae6e34b2a6ffd884c91ee8380b4"})</script><footer class=site-footer><section class=copyright>&copy;
2024 -
2025 Leahs Blog</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>